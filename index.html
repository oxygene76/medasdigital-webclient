<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Medas Digital Research Terminal</title>
    
    <!-- CSS Modules -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/animation.css">
    <link rel="stylesheet" href="assets/css/mobile.css">
    <link rel="stylesheet" href="assets/css/mobile-enhancements.css">
</head>
    <!-- Fügen Sie diese Script-Tags VOR dem schließenden </body> Tag hinzu -->


<!-- CSS Styles für Advanced Staking Features -->
<style>
/* Advanced Operations Styling */
details summary {
    list-style: none;
    padding: 8px 0;
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
    user-select: none;
}

details summary::-webkit-details-marker {
    display: none;
}

details[open] summary::after {
    content: ' ▼';
}

details summary::after {
    content: ' ▶';
    color: #00ffff;
}

details[open] {
    border: 1px solid rgba(0, 255, 255, 0.3);
    padding: 12px;
    margin-top: 16px;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 4px;
}

/* Button Styling für Staking Actions */
.btn-small {
    padding: 6px 12px;
    font-size: 11px;
    border: 1px solid;
    background: transparent;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s ease;
    font-family: 'Share Tech Mono', monospace;
}

.btn-small:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
}

.btn-small.btn-primary {
    border-color: #00ffff;
    color: #00ffff;
}

.btn-small.btn-success {
    border-color: #00ff00;
    color: #00ff00;
}

.btn-small.btn-warning {
    border-color: #ffaa00;
    color: #ffaa00;
}

.btn-small.btn-danger {
    border-color: #ff0000;
    color: #ff0000;
}

/* Delegation Item Styling */
.delegation-item {
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid rgba(0, 255, 255, 0.2);
    padding: 12px;
    margin-bottom: 8px;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.validator-info {
    flex: 1;
}

.validator-name {
    color: #00ffff;
    font-weight: bold;
    font-size: 14px;
}

.validator-details {
    color: #999;
    font-size: 11px;
    margin-top: 4px;
}

.validator-address {
    font-size: 10px;
    color: #666;
    margin-top: 4px;
    font-family: 'Share Tech Mono', monospace;
}

.stake-actions {
    display: flex;
    gap: 8px;
}

/* Notification System */
#notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
    max-width: 400px;
}

.notification {
    padding: 12px 16px;
    margin-bottom: 8px;
    border-radius: 4px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.5);
    animation: slideInRight 0.3s ease-out;
}

.notification-success {
    background: rgba(0, 255, 0, 0.1);
    border: 1px solid #00ff00;
    color: #00ff00;
}

.notification-error {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid #ff0000;
    color: #ff0000;
}

.notification-info {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid #00ffff;
    color: #00ffff;
}

@keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes slideOutRight {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .delegation-item {
        flex-direction: column;
        gap: 12px;
        text-align: center;
    }
    
    .stake-actions {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    details[open] {
        padding: 8px;
    }
}
</style>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <div class="header">
            <!-- Solar System Background -->
            <div class="solar-system-bg">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="sunGradientBg" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#ffff00;stop-opacity:0.8" />
                            <stop offset="70%" style="stop-color:#ff8800;stop-opacity:0.6" />
                            <stop offset="100%" style="stop-color:#ff4400;stop-opacity:0.4" />
                        </radialGradient>
                        <filter id="bgGlow" x="-50%" y="-50%" width="200%" height="200%">
                            <feGaussianBlur stdDeviation="1" result="coloredBlur"/>
                            <feMerge> 
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <circle cx="100" cy="100" r="2.0" fill="url(#sunGradientBg)" filter="url(#bgGlow)">
                        <animate attributeName="r" values="2.0;2.3;2.0" dur="4s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="4" fill="none" stroke="rgba(255,255,255,0.4)" stroke-width="0.08"/>
                    <circle cx="104" cy="100" r="0.15" fill="#8c7853" stroke="rgba(140,120,83,0.8)" stroke-width="0.05">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="8s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="5.5" fill="none" stroke="rgba(255,200,100,0.5)" stroke-width="0.08"/>
                    <circle cx="105.5" cy="100" r="0.18" fill="#ffc649" stroke="rgba(255,198,73,0.9)" stroke-width="0.05">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;-360 100 100" dur="12s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="7" fill="none" stroke="rgba(100,200,255,0.6)" stroke-width="0.1"/>
                    <circle cx="107" cy="100" r="0.2" fill="#6B93D6" stroke="rgba(107,147,214,0.9)" stroke-width="0.05">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="16s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="108.2" cy="100" r="0.08" fill="#cccccc" stroke="rgba(204,204,204,0.8)" stroke-width="0.02">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="16s" repeatCount="indefinite"/>
                        <animateTransform attributeName="transform" type="rotate" values="0 107 100;360 107 100" dur="2s" repeatCount="indefinite" additive="sum"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="8.5" fill="none" stroke="rgba(255,100,100,0.5)" stroke-width="0.08"/>
                    <circle cx="108.5" cy="100" r="0.15" fill="#cd5c5c" stroke="rgba(205,92,92,0.8)" stroke-width="0.05">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;-360 100 100" dur="24s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="10" fill="none" stroke="rgba(150,150,150,0.4)" stroke-width="0.2" stroke-dasharray="0.1,0.3">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="60s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="12" fill="none" stroke="rgba(255,165,0,0.5)" stroke-width="0.12"/>
                    <circle cx="112" cy="100" r="0.5" fill="#d8ca9d" stroke="rgba(216,202,157,0.9)" stroke-width="0.08">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="40s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="14" fill="none" stroke="rgba(255,215,0,0.5)" stroke-width="0.12"/>
                    <g>
                        <circle cx="114" cy="100" r="0.4" fill="#fab27b" stroke="rgba(250,178,123,0.9)" stroke-width="0.06"/>
                        <ellipse cx="114" cy="100" rx="0.7" ry="0.12" fill="none" stroke="rgba(255,215,0,0.8)" stroke-width="0.08"/>
                        <ellipse cx="114" cy="100" rx="0.5" ry="0.08" fill="none" stroke="rgba(255,215,0,0.6)" stroke-width="0.06"/>
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;-360 100 100" dur="55s" repeatCount="indefinite"/>
                    </g>
                    
                    <circle cx="100" cy="100" r="16" fill="none" stroke="rgba(100,255,255,0.5)" stroke-width="0.12"/>
                    <circle cx="116" cy="100" r="0.25" fill="#4fd0e3" stroke="rgba(79,208,227,0.9)" stroke-width="0.06">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="80s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="18" fill="none" stroke="rgba(0,100,255,0.6)" stroke-width="0.15"/>
                    <circle cx="118" cy="100" r="0.25" fill="#4b70dd" stroke="rgba(75,112,221,0.9)" stroke-width="0.06">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;-360 100 100" dur="100s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="100" cy="100" r="22" fill="none" stroke="rgba(100,100,255,0.5)" stroke-width="0.25" stroke-dasharray="0.15,0.4" opacity="0.7">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="150s" repeatCount="indefinite"/>
                    </circle>
                    
                    <ellipse cx="145" cy="100" rx="80" ry="30" fill="none" stroke="rgba(255,100,0,0.8)" stroke-width="1.2" opacity="0.9" stroke-dasharray="4,2" transform="rotate(25 100 100)">
                        <animateTransform attributeName="transform" type="rotate" values="25 100 100;385 100 100" dur="300s" repeatCount="indefinite"/>
                    </ellipse>
                    
                    <circle cx="180" cy="70" r="1.2" fill="#ff4400" opacity="1" stroke="#ff6600" stroke-width="0.4">
                        <animateTransform attributeName="transform" type="rotate" values="25 100 100;385 100 100" dur="300s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.9;1;0.9" dur="4s" repeatCount="indefinite"/>
                        <animate attributeName="r" values="1.2;1.4;1.2" dur="6s" repeatCount="indefinite"/>
                    </circle>
                    
                    <ellipse cx="130" cy="100" rx="70" ry="25" fill="none" stroke="rgba(255,0,255,0.7)" stroke-width="1.0" opacity="0.8" stroke-dasharray="3,1" transform="rotate(12 100 100)">
                        <animateTransform attributeName="transform" type="rotate" values="12 100 100;372 100 100" dur="400s" repeatCount="indefinite"/>
                    </ellipse>
                    <circle cx="160" cy="85" r="0.6" fill="#ff4d94" stroke="rgba(255,77,148,0.8)" stroke-width="0.15" opacity="0.9">
                        <animateTransform attributeName="transform" type="rotate" values="12 100 100;372 100 100" dur="400s" repeatCount="indefinite"/>
                    </circle>
                    
                    <ellipse cx="135" cy="100" rx="75" ry="28" fill="none" stroke="rgba(255,0,255,0.6)" stroke-width="0.8" opacity="0.7" stroke-dasharray="2,2" transform="rotate(22 100 100)">
                        <animateTransform attributeName="transform" type="rotate" values="22 100 100;382 100 100" dur="450s" repeatCount="indefinite"/>
                    </ellipse>
                    <circle cx="165" cy="82" r="0.5" fill="#ff66aa" stroke="rgba(255,102,170,0.8)" stroke-width="0.12" opacity="0.8">
                        <animateTransform attributeName="transform" type="rotate" values="22 100 100;382 100 100" dur="450s" repeatCount="indefinite"/>
                    </circle>
                </svg>
            </div>
            
            <div class="terminal-header">
                <!-- Logo und Titel -->
                <div class="system-info">
                    <div class="logo-section">
                        <div class="logo-icon">
                            <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                <defs>
                                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#00ffff;stop-opacity:1" />
                                        <stop offset="50%" style="stop-color:#0099ff;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#00ffff;stop-opacity:1" />
                                    </linearGradient>
                                    <filter id="logoGlow" x="-50%" y="-50%" width="200%" height="200%">
                                        <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                        <feMerge> 
                                            <feMergeNode in="coloredBlur"/>
                                            <feMergeNode in="SourceGraphic"/>
                                        </feMerge>
                                    </filter>
                                </defs>
                                
                                <path d="M 20 50 Q 20 20, 50 20 Q 80 20, 80 50 Q 80 80, 50 80 Q 35 80, 25 70" 
                                      fill="none" 
                                      stroke="url(#logoGradient)" 
                                      stroke-width="4" 
                                      filter="url(#logoGlow)"/>
                                
                                <text x="50" y="55" text-anchor="middle" fill="url(#logoGradient)" 
                                      font-family="Orbitron" font-size="18" font-weight="bold" filter="url(#logoGlow)">md</text>
                            </svg>
                        </div>
                        <div class="system-title">
                            <div class="main-title">Medas Digital</div>
                            <div class="sub-title">Research Terminal v0.9</div>
                        </div>
                    </div>
                </div>
                
                <!-- Freier Raum -->
                <div class="header-middle">
                    <!-- Für zukünftige Features -->
                </div>
                
                <!-- Status Display -->
                <div class="status-display">  
                    <!-- DESKTOP WALLET CONNECTION (nur Desktop) -->
                    <div class="header-wallet-section">
                        <div class="header-wallet-display disconnected">
                            <div class="wallet-status">
                                <span class="status-icon">⚡</span>
                                NOT CONNECTED
                            </div>
                            <div class="wallet-address">
                                <span class="address-text">CLICK TO CONNECT KEPLR WALLET</span>
                                <button class="copy-btn" style="display: none;">📋</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- MOBILE WALLET CONNECTION (nur Mobile) - BESTEHENDE STRUKTUR -->
                    <div class="wallet-section">
                        <div class="wallet-display disconnected">
                            <div class="wallet-status">
                                <span class="status-icon">⚡</span>
                                NOT CONNECTED
                            </div>
                            <div class="wallet-address">
                                <span class="address-text">CLICK TO CONNECT KEPLR WALLET</span>
                                <button class="copy-btn" style="display: none;">📋</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Network Status -->
                    <div class="status-row">
                        <div class="network-info">
                            <div id="connection-status" class="connection-status status-disconnected">
                                <div class="status-dot dot-disconnected"></div>
                                <span>Network Offline</span>
                            </div>
                            <div id="blockchain-status" class="connection-status status-disconnected">
                                <div class="status-dot dot-disconnected"></div>
                                <span>Block: ---</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Timestamp -->
                    <div class="timestamp" id="current-time">Loading...</div>
                </div>
            </div>
        </div>

        <div class="main-interface">
            <div class="control-panel">
                <div class="section-header">System Control</div>
                
                <div class="auth-module">
                    <div class="module-title">Quantum Wallet Interface</div>
                    <div id="wallet-interface">
                        <p style="color: #999999; margin-bottom: 16px; font-family: 'Share Tech Mono', monospace; font-size: 12px;">
                            Initialize Keplr quantum authentication protocol
                        </p>
                        <button id="connect-wallet" class="terminal-button btn-primary">
                            Connect Keplr Wallet
                        </button>
                    </div>
                </div>

                <div class="systems-status">
                    <div class="module-title">System Status</div>
                    <div class="system-item">
                        <span class="system-name">Quantum Relay</span>
                        <div class="system-indicator">
                            <div class="indicator-dot indicator-offline"></div>
                            <span style="color: #ff3030; font-size: 10px;">OFFLINE</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Blockchain Sync</span>
                        <div class="system-indicator">
                            <div class="indicator-dot indicator-offline" id="blockchain-indicator"></div>
                            <span style="color: #ff3030; font-size: 10px;" id="blockchain-status-text">OFFLINE</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Block Height</span>
                        <div class="system-indicator">
                            <span style="color: #00ffff; font-size: 10px; font-family: 'Share Tech Mono', monospace;" id="block-height-status">---</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Network Latency</span>
                        <div class="system-indicator">
                            <span style="color: #00ffff; font-size: 10px; font-family: 'Share Tech Mono', monospace;" id="network-latency-status">--- ms</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Encryption Matrix</span>
                        <div class="system-indicator">
                            <div class="indicator-dot"></div>
                            <span style="color: #00ff00; font-size: 10px;">SECURE</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Observatory Link</span>
                        <div class="system-indicator">
                            <div class="indicator-dot indicator-offline"></div>
                            <span style="color: #ff3030; font-size: 10px;">STANDBY</span>
                        </div>
                    </div>
                    <div class="system-item">
                        <span class="system-name">Daemon Protocol</span>
                        <div class="system-indicator">
                            <div class="indicator-dot indicator-offline"></div>
                            <span style="color: #ff3030; font-size: 10px;">OFFLINE</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="communication-display">
                <div class="terminal-tabs">
                    <button class="tab-button active" data-tab="comm">💬 COMM</button>
                    <button class="tab-button" data-tab="explorer">🔍 SCAN</button>
                    <button class="tab-button" data-tab="staking">🥩 STAKE</button>
                    <button class="tab-button" data-tab="wallet">👛 WALLET</button>
                </div>

                <div id="comm-tab" class="tab-content active">
                    <div class="comm-header">
                        <div class="comm-title">Interstellar Communication Array</div>
                        <div class="comm-subtitle">Quantum-encrypted research collaboration network</div>
                    </div>
                    
                    <div class="message-display" id="message-display">
                        <div class="empty-state">
                            <h3>System Standby</h3>
                            <div class="icon">◉</div>
                            <p>Awaiting quantum wallet authentication...</p>
                            <p style="font-size: 11px; margin-top: 8px;">Initialize Keplr interface to establish secure communication channel</p>
                        </div>
                    </div>

                    <div class="input-module">
                        <textarea 
                            id="message-input" 
                            class="terminal-input" 
                            placeholder="Enter transmission data..."
                            rows="2"
                            disabled
                        ></textarea>
                    </div>
                </div>

                <div id="explorer-tab" class="tab-content">
                    <div class="comm-header">
                        <div class="comm-title">Blockchain Scanner</div>
                        <div class="comm-subtitle">Real-time network analysis & transaction explorer</div>
                    </div>
                    
                    <div class="content-area">
                        <div class="explorer-section network-overview">
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <div class="stat-value" id="latest-block">2,847,392</div>
                                    <div class="stat-label">Latest Block</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="validator-count">147</div>
                                    <div class="stat-label">Validators</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="bonded-ratio">68.4%</div>
                                    <div class="stat-label">Bonded Ratio</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="block-time">6.2s</div>
                                    <div class="stat-label">Avg Block Time</div>
                                </div>
                            </div>
                        </div>

                        <div class="explorer-section recent-blocks">
                            <div id="recent-blocks-list">
                            </div>
                        </div>

                        <div class="explorer-section search-section">
                            <input type="text" class="search-input" placeholder="Search transaction hash or address..." id="blockchain-search">
                            <button class="terminal-button btn-primary" style="width: auto; padding: 8px 16px; margin: 0;">Search Blockchain</button>
                        </div>

                        <div class="explorer-section wallet-history" style="display: none;" id="wallet-history-section">
                            <div id="wallet-transactions">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ersetzen Sie nur Ihre bestehende Staking-Section (div id="staking-tab") mit diesem Code -->

<div id="staking-tab" class="tab-content">
    <div class="comm-header">
        <div class="comm-title">Staking Interface</div>
        <div class="comm-subtitle">Delegate tokens & earn rewards</div>
    </div>
    
    <div class="content-area">
        <!-- MY DELEGATIONS SECTION (Erweitert) -->
        <div class="explorer-section" style="display: none;" id="my-delegations-section">
            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">MY DELEGATIONS</div>
            <div id="current-delegations">
                <!-- Wird dynamisch gefüllt -->
            </div>
            <div style="text-align: center; margin-top: 12px;">
                <span style="color: #00ff00; font-weight: 700;">Total Pending Rewards: </span>
                <span id="total-rewards" style="color: #00ff00; font-family: 'Share Tech Mono', monospace;">0.000000 MEDAS</span>
                <button id="claim-all-rewards-btn" class="terminal-button btn-success" style="width: auto; padding: 8px 16px; margin-left: 12px; font-size: 11px;" onclick="window.terminal?.ui?.claimAllRewards()">
                    Claim All Rewards
                </button>
            </div>
        </div>

        <!-- TOP VALIDATORS SECTION (Erweitert) -->
        <div class="explorer-section">
            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">TOP VALIDATORS</div>
            <div id="validators-list">
                <!-- Wird dynamisch gefüllt mit erweiterten Actions -->
            </div>
        </div>

        <!-- QUICK STAKE SECTION (Erweitert) -->
        <div class="explorer-section">
            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">QUICK STAKE</div>
            <div class="form-group">
                <label class="form-label">Select Validator</label>
                <select id="validator-select" class="form-input">
                    <option>Select a validator...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Amount (MEDAS)</label>
                <div class="input-wrapper">
                    <input type="number" id="stake-amount" class="form-input" placeholder="0.000000" step="0.000001" min="0">
                    <button class="max-button" onclick="window.terminal?.ui?.setMaxStakeAmount()">MAX</button>
                </div>
            </div>
            <button class="terminal-button btn-primary" onclick="window.terminal?.ui?.performStaking()" style="width: 100%; margin-top: 8px;">
                🥩 Delegate Tokens
            </button>

            <!-- ADVANCED STAKING OPERATIONS (NEU) -->
            <details style="margin-top: 16px;">
                <summary style="color: #00ffff; cursor: pointer; margin-bottom: 12px; font-size: 14px;">Advanced Operations</summary>
                
                <!-- REDELEGATION -->
                <div class="form-group">
                    <label class="form-label">Redelegate From</label>
                    <select id="redelegate-from-select" class="form-input">
                        <option>Select source validator...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Redelegate To</label>
                    <select id="redelegate-to-select" class="form-input">
                        <option>Select destination validator...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Redelegation Amount (MEDAS)</label>
                    <input type="number" id="redelegate-amount" class="form-input" placeholder="0.000000" step="0.000001" min="0">
                </div>
                <button id="redelegate-btn" class="terminal-button btn-warning" style="width: 100%; margin-bottom: 8px;" onclick="performRedelegationFromForm()">
                    🔄 Redelegate Tokens
                </button>

                <!-- UNDELEGATION -->
                <div class="form-group" style="margin-top: 16px;">
                    <label class="form-label">Undelegate From</label>
                    <select id="undelegate-from-select" class="form-input">
                        <option>Select validator to unstake from...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Undelegation Amount (MEDAS)</label>
                    <input type="number" id="undelegate-amount" class="form-input" placeholder="0.000000" step="0.000001" min="0">
                </div>
                <button id="undelegate-btn" class="terminal-button btn-danger" style="width: 100%;" onclick="performUndelegationFromForm()">
                    📤 Undelegate Tokens (21 day unbonding)
                </button>
            </details>
        </div>

        <!-- STAKING STATISTICS (NEU) -->
        <div class="explorer-section">
            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">STAKING STATISTICS</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div style="text-align: center; padding: 12px; background: rgba(0, 0, 0, 0.6); border: 1px solid #333;">
                    <div style="font-size: 10px; color: #999; text-transform: uppercase; margin-bottom: 5px;">Your Total Staked</div>
                    <div style="font-size: 14px; color: #00ffff; font-family: 'Share Tech Mono', monospace; font-weight: bold;" id="user-total-staked">0.000000 MEDAS</div>
                </div>
                <div style="text-align: center; padding: 12px; background: rgba(0, 0, 0, 0.6); border: 1px solid #333;">
                    <div style="font-size: 10px; color: #999; text-transform: uppercase; margin-bottom: 5px;">Pending Rewards</div>
                    <div style="font-size: 14px; color: #00ffff; font-family: 'Share Tech Mono', monospace; font-weight: bold;" id="user-total-rewards">0.000000 MEDAS</div>
                </div>
                <div style="text-align: center; padding: 12px; background: rgba(0, 0, 0, 0.6); border: 1px solid #333;">
                    <div style="font-size: 10px; color: #999; text-transform: uppercase; margin-bottom: 5px;">Active Delegations</div>
                    <div style="font-size: 14px; color: #00ffff; font-family: 'Share Tech Mono', monospace; font-weight: bold;" id="user-delegation-count">0</div>
                </div>
                <div style="text-align: center; padding: 12px; background: rgba(0, 0, 0, 0.6); border: 1px solid #333;">
                    <div style="font-size: 10px; color: #999; text-transform: uppercase; margin-bottom: 5px;">Est. Monthly Rewards</div>
                    <div style="font-size: 14px; color: #00ffff; font-family: 'Share Tech Mono', monospace; font-weight: bold;" id="user-monthly-estimate">0.000000 MEDAS</div>
                </div>
            </div>
        </div>
    </div>
</div>

                <div id="wallet-tab" class="tab-content">
                    <div class="comm-header">
                        <div class="comm-title">Wallet Management</div>
                        <div class="comm-subtitle">Token transfers & account overview</div>
                    </div>
                    
                    <div class="content-area">
                        <div class="explorer-section" style="display: none;" id="balance-section">
                            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">BALANCE OVERVIEW</div>
                            <div class="balance-overview">
                                <div class="balance-item">
                                    <div class="balance-amount" id="available-balance">0.000000</div>
                                    <div class="balance-label">Available</div>
                                </div>
                                <div class="balance-item">
                                    <div class="balance-amount" id="delegated-balance">0.000000</div>
                                    <div class="balance-label">Delegated</div>
                                </div>
                                <div class="balance-item">
                                    <div class="balance-amount" id="rewards-balance">0.000000</div>
                                    <div class="balance-label">Rewards</div>
                                </div>
                                <div class="balance-item">
                                    <div class="balance-amount" id="total-balance">0.000000</div>
                                    <div class="balance-label">Total</div>
                                </div>
                            </div>
                        </div>

                        <div class="explorer-section">
                            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">SEND TOKENS</div>
                            <div class="send-form">
                                <div class="form-group">
                                    <label class="form-label">Recipient Address</label>
                                    <input type="text" id="send-address" class="form-input" placeholder="medas1...">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Amount (MEDAS)</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="send-amount" class="form-input" placeholder="0.000000" step="0.000001" min="0">
                                        <button class="max-button" onclick="setMaxSendAmount()">MAX</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Memo (Optional)</label>
                                    <input type="text" id="send-memo" class="form-input" placeholder="Transaction memo...">
                                </div>
                                <button class="terminal-button btn-primary" onclick="sendTokens()">Send Transaction</button>
                            </div>
                        </div>

                        <div class="explorer-section" style="display: none;" id="transaction-history-section">
                            <div style="position: absolute; top: -8px; left: 12px; background: #0a0a0a; padding: 0 8px; font-size: 10px; color: #00cc66; letter-spacing: 1px;">TRANSACTION HISTORY</div>
                            <div class="tx-filter">
                                <button class="filter-btn active" data-filter="all">All</button>
                                <button class="filter-btn" data-filter="sent">Sent</button>
                                <button class="filter-btn" data-filter="received">Received</button>
                                <button class="filter-btn" data-filter="staking">Staking</button>
                            </div>
                            <div id="transaction-list">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
    </div>

    <!-- Ersetzen Sie das vorherige CSS mit diesem angepassten CSS -->

<style>
/* ===================================
   MINI-EXPLORER SEARCH RESULTS CSS
   ANGEPASST AN BESTEHENDE SCHRIFTARTEN
   ================================= */

#search-results-container {
    margin-top: 16px !important;
    border: 1px solid rgba(0, 255, 255, 0.3) !important;
    background: rgba(0, 0, 0, 0.8) !important;
    border-radius: 4px !important;
    position: relative !important;
    display: block !important;
    overflow: visible !important;
    font-family: 'Share Tech Mono', monospace !important; /* Konsistent mit Terminal */
}

#search-results-container::before {
    content: 'SEARCH RESULTS';
    position: absolute;
    top: -8px;
    left: 12px;
    background: #0a0a0a;
    padding: 0 8px;
    font-size: 10px; /* Gleich wie andere ::before Labels */
    color: #00cc66; /* Gleich wie Explorer Sections */
    letter-spacing: 1px;
    font-family: 'Share Tech Mono', monospace;
    text-transform: uppercase;
}

/* Header - angepasst an bestehende comm-header */
.search-result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    background: rgba(0, 255, 255, 0.05);
}

.search-result-header h3 {
    color: #00ffff; /* Gleich wie stat-value */
    margin: 0;
    font-size: 16px; /* Gleich wie comm-title */
    font-family: 'Share Tech Mono', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 700;
}

/* Status Badges - angepasst an terminal-button Stil */
.status-badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 10px; /* Gleich wie stat-label */
    font-weight: 700;
    font-family: 'Share Tech Mono', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
    border: 1px solid;
}

.status-success {
    background: rgba(0, 255, 0, 0.1); /* Gleich wie btn-success hover */
    border-color: #00ff00;
    color: #00ff00;
}

.status-info {
    background: rgba(0, 255, 255, 0.1); /* Gleich wie btn-primary hover */
    border-color: #00ffff;
    color: #00ffff;
}

.status-error {
    background: rgba(255, 48, 48, 0.1); /* Gleich wie btn-danger hover */
    border-color: #ff3030;
    color: #ff3030;
}

/* Content Area */
.search-result-content {
    padding: 16px; /* Gleich wie explorer-section */
}

/* Result Rows - angepasst an system-item Stil */
.result-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 8px 0; /* Gleich wie system-item */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    gap: 16px;
    font-family: 'Share Tech Mono', monospace;
}

.result-row:last-child {
    border-bottom: none;
}

.result-row .label {
    color: #999999; /* Gleich wie stat-label */
    font-size: 12px; /* Gleich wie validator-details */
    font-weight: 700;
    min-width: 120px;
    flex-shrink: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: 'Share Tech Mono', monospace;
}

.result-row .value {
    color: #00ffff; /* Gleich wie stat-value */
    font-size: 12px; /* Gleich wie search-input */
    font-family: 'Share Tech Mono', monospace;
    text-align: right;
    flex: 1;
    word-break: break-all;
    line-height: 1.4;
    font-weight: 400;
}

.result-row .value.hash {
    font-size: 11px; /* Etwas kleiner für lange Hashes */
    color: #ffaa00; /* Gleich wie system message farbe */
    font-weight: 700;
    text-shadow: 0 0 3px rgba(255, 170, 0, 0.3);
}

/* Loading State - angepasst an empty-state */
.search-loading {
    padding: 40px 20px;
    text-align: center;
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid rgba(0, 255, 255, 0.2);
    border-radius: 4px;
    font-family: 'Share Tech Mono', monospace;
    color: #00ffff;
    font-size: 12px;
}

.search-loading::before {
    content: '🔍';
    display: block;
    font-size: 24px; /* Gleich wie empty-state icon */
    margin-bottom: 8px;
    animation: pulse 2s infinite;
}

/* Error State */
.search-error {
    padding: 20px;
    text-align: center;
    background: rgba(255, 48, 48, 0.1); /* Gleich wie error-display */
    border: 1px solid #ff3030;
    border-radius: 4px;
    color: #ff3030;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px;
}

.search-error::before {
    content: '❌';
    display: block;
    font-size: 24px;
    margin-bottom: 8px;
}

/* Live Data Section - angepasst an success-display */
.live-data-section {
    background: rgba(0, 255, 0, 0.05) !important; /* Gleich wie success-display */
    padding: 12px !important;
    border-radius: 4px !important;
    margin: 16px 0 !important;
    border-left: 4px solid #00ff00 !important;
    border: 1px solid #00ff00;
}

.live-data-title {
    color: #00ff00 !important;
    font-size: 12px !important; /* Gleich wie validator-details */
    font-weight: 700 !important;
    margin-bottom: 8px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    font-family: 'Share Tech Mono', monospace !important;
}

/* Node Limitation Notice */
.node-limitation-notice {
    margin: 16px 0 !important;
    padding: 12px !important;
    background: rgba(255, 170, 0, 0.1) !important;
    border: 1px solid #ffaa00 !important;
    border-radius: 4px !important;
}

.node-limitation-title {
    color: #ffaa00 !important;
    font-size: 12px !important;
    font-weight: 700 !important;
    margin-bottom: 8px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    font-family: 'Share Tech Mono', monospace !important;
}

.node-limitation-text {
    color: #999999 !important; /* Gleich wie stat-label */
    font-size: 11px !important; /* Gleich wie field-label */
    line-height: 1.4 !important;
    font-family: 'Share Tech Mono', monospace !important;
}

/* Transaction History Simulation */
.simulated-tx-history {
    margin: 16px 0 !important;
    padding-top: 16px !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.tx-history-title {
    color: #00ffff !important; /* Gleich wie comm-title */
    font-weight: 700 !important;
    margin-bottom: 8px !important;
    font-size: 12px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    font-family: 'Share Tech Mono', monospace !important;
}

/* Simulated TX Items - angepasst an tx-item */
.simulated-tx-item {
    padding: 8px !important;
    background: rgba(0, 0, 0, 0.3) !important; /* Gleich wie tx-item */
    margin-bottom: 4px !important;
    border-radius: 4px !important;
    border-left: 3px solid #00ffff !important; /* Gleich wie tx-item border */
    font-family: 'Share Tech Mono', monospace !important;
}

.tx-item-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

.tx-item-type {
    color: #00ffff !important; /* Gleich wie tx-type */
    font-size: 12px !important;
    font-weight: 700 !important;
    font-family: 'Share Tech Mono', monospace !important;
}

.tx-item-time {
    color: #999999 !important; /* Gleich wie tx-time */
    font-size: 10px !important; /* Gleich wie tx-time */
    font-family: 'Share Tech Mono', monospace !important;
}

.tx-item-details {
    color: #999999 !important;
    font-size: 10px !important;
    margin-top: 4px !important;
    font-family: 'Share Tech Mono', monospace !important;
}

.tx-item-meta {
    color: #666666 !important;
    font-size: 9px !important; /* Kleiner für Meta-Info */
    margin-top: 2px !important;
    font-style: italic !important;
    font-family: 'Share Tech Mono', monospace !important;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .result-row {
        flex-direction: column;
        gap: 4px;
    }
    
    .result-row .label {
        min-width: auto;
        font-size: 11px; /* Etwas kleiner auf Mobile */
    }
    
    .result-row .value {
        text-align: left;
        font-size: 11px; /* Etwas kleiner auf Mobile */
    }
    
    .search-result-header {
        flex-direction: column;
        gap: 8px;
        text-align: center;
    }
    
    .search-result-header h3 {
        font-size: 14px; /* Kleiner auf Mobile */
    }
}

/* Slide-in Animation - gleich wie andere UI Animationen */
#search-results-container {
    animation: slideInUp 0.3s ease-out;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Pulse Animation - gleich wie indicator-dot */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Zusätzliche Balances - angepasst an balance-item */
.balance-highlight {
    background: rgba(0, 255, 0, 0.05) !important;
    border: 1px solid rgba(0, 255, 0, 0.2) !important;
    padding: 8px 12px !important;
    margin: 4px 0 !important;
    border-radius: 4px !important;
}

.balance-highlight .result-row .value {
    color: #00ff00 !important; /* Grün für positive Balances */
    font-weight: 700 !important;
    text-shadow: 0 0 5px rgba(0, 255, 0, 0.3) !important;
}

/* Staking Info Highlight */
.staking-highlight .result-row .value {
    color: #00ffff !important; /* Cyan für Staking */
    font-weight: 700 !important;
}

/* Rewards Highlight */
.rewards-highlight .result-row .value {
    color: #ffaa00 !important; /* Orange für Rewards */
    font-weight: 700 !important;
}
</style>
<!-- ===================================
         JAVASCRIPT OHNE VITE
         WeedWallet-Pattern für MedasDigital
         =================================== -->
    
    <!-- Browser Polyfills für CosmJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/buffer/6.0.3/buffer.min.js"></script>
    <script>
        // Global polyfills
        window.global = window;
        window.process = { env: {} };
        if (!window.Buffer) {
            window.Buffer = buffer.Buffer;
        }
        console.log('✅ Browser polyfills loaded');
    </script>
    
<!-- CosmJS BROWSER-KOMPATIBLE VERSION -->

<!-- OPTION 1: Module-Polyfill hinzufügen -->
<script>
// Module-System Polyfill für Browser
if (typeof exports === 'undefined') {
    window.exports = {};
}
if (typeof module === 'undefined') {
    window.module = { exports: {} };
}
if (typeof require === 'undefined') {
    window.require = function() {
        throw new Error('require() not available in browser');
    };
}
console.log('✅ Module polyfills loaded');
</script>


<!-- NUR JSMP COSMJS LOADING (funktioniert!) -->
<script>
    console.log('🔄 Loading CosmJS via JSMP only...');
    
    // Direkt JSMP verwenden (kein Skypack mehr)
    setTimeout(() => {
        console.log('🔄 Starting JSPM import...');
        
        const script = document.createElement('script');
        script.type = 'module';
        script.innerHTML = `
            try {
                const { SigningStargateClient, GasPrice } = await import('https://jspm.dev/@cosmjs/stargate@0.32.0');
                window.SigningStargateClient = SigningStargateClient;
                window.GasPrice = GasPrice;
                window.cosmjsReady = true;
                console.log('✅ JSPM import successful');
                window.dispatchEvent(new Event('cosmjs-loaded'));
            } catch (error) {
                console.error('❌ JSPM import failed:', error);
                
                // Test-Stub Fallback
                window.SigningStargateClient = {
                    connectWithSigner: async function(rpcUrl, signer, options) {
                        console.log('🧪 STUB: connectWithSigner called');
                        return {
                            signAndBroadcast: async function(address, messages, fee, memo) {
                                console.log('🧪 STUB: signAndBroadcast called');
                                await new Promise(resolve => setTimeout(resolve, 1000));
                                return {
                                    transactionHash: 'STUB_TX_' + Math.random().toString(36).substr(2, 9),
                                    height: Math.floor(Math.random() * 1000000),
                                    gasUsed: 200000,
                                    code: 0
                                };
                            }
                        };
                    }
                };
                
                window.GasPrice = {
                    fromString: function(priceString) {
                        return {
                            amount: '0.025',
                            denom: 'umedas',
                            toString: () => priceString
                        };
                    }
                };
                
                window.cosmjsReady = true;
                console.log('✅ CosmJS test stub ready');
                window.dispatchEvent(new Event('cosmjs-loaded'));
            }
        `;
        document.head.appendChild(script);
    }, 1000);
</script>




    
    <!-- Basis-Konfiguration -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/mock-data.js"></script>
    
    <!-- Manager Classes -->
    <script src="assets/js/keplr-manager.js"></script>
    <script src="assets/js/staking-manager.js"></script>  
   
    <!-- UI Manager und andere Scripts -->
    <script src="assets/js/ui-manager.js"></script>
    <script src="assets/js/staking-helpers.js"></script>
    <script src="assets/js/mini-explorer.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/mobile-navigation.js"></script>
    
    <!-- Notification Container -->
    <div id="notification-container"></div>
</body>
</html>

</body>
</html>
